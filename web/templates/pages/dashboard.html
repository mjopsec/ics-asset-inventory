<!-- web/templates/pages/dashboard.html -->
<div class="page-header">
    <h1 class="page-title">Industrial Control System Dashboard</h1>
    <p class="page-subtitle">Real-time monitoring and management of your ICS/OT infrastructure</p>
</div>

<!-- Stats Cards -->
<div class="stats-grid">
    <div class="stat-card">
        <div class="stat-header">
            <div>
                <div class="stat-value" id="totalAssets">0</div>
                <div class="stat-label">Total Assets</div>
                <div class="stat-change positive">
                    <i class="fas fa-arrow-up"></i>
                    12% from last month
                </div>
            </div>
            <div class="stat-icon primary">
                <i class="fas fa-cube"></i>
            </div>
        </div>
    </div>

    <div class="stat-card">
        <div class="stat-header">
            <div>
                <div class="stat-value" id="onlineAssets">0</div>
                <div class="stat-label">Online Devices</div>
                <div class="stat-change positive">
                    <i class="fas fa-arrow-up"></i>
                    95% uptime
                </div>
            </div>
            <div class="stat-icon success">
                <i class="fas fa-check-circle"></i>
            </div>
        </div>
    </div>

    <div class="stat-card">
        <div class="stat-header">
            <div>
                <div class="stat-value" id="criticalAlerts">0</div>
                <div class="stat-label">Critical Alerts</div>
                <div class="stat-change negative">
                    <i class="fas fa-arrow-up"></i>
                    3 new today
                </div>
            </div>
            <div class="stat-icon danger">
                <i class="fas fa-exclamation-triangle"></i>
            </div>
        </div>
    </div>

    <div class="stat-card">
        <div class="stat-header">
            <div>
                <div class="stat-value" id="recentScans">0</div>
                <div class="stat-label">Recent Scans</div>
                <div class="stat-change positive">
                    <i class="fas fa-check"></i>
                    All completed
                </div>
            </div>
            <div class="stat-icon warning">
                <i class="fas fa-radar"></i>
            </div>
        </div>
    </div>
</div>

<!-- Charts Section -->
<div class="charts-grid">
    <div class="chart-card">
        <div class="chart-header">
            <h3 class="chart-title">Asset Distribution by Type</h3>
            <div class="chart-actions">
                <button class="chart-action-btn active">Chart</button>
                <button class="chart-action-btn">Table</button>
            </div>
        </div>
        <div class="chart-container">
            <canvas id="assetTypeChart"></canvas>
        </div>
    </div>

    <div class="chart-card">
        <div class="chart-header">
            <h3 class="chart-title">Device Status Overview</h3>
            <div class="chart-actions">
                <button class="chart-action-btn active">Real-time</button>
                <button class="chart-action-btn">History</button>
            </div>
        </div>
        <div class="chart-container">
            <canvas id="statusChart"></canvas>
        </div>
    </div>
</div>

<!-- Recent Assets Table -->
<div class="table-card">
    <div class="table-header">
        <h3 class="table-title">Recently Discovered Assets</h3>
        <a href="/assets" class="view-all-btn">
            View all assets
            <i class="fas fa-arrow-right"></i>
        </a>
    </div>
    <table class="data-table">
        <thead>
            <tr>
                <th>Asset</th>
                <th>Type</th>
                <th>Status</th>
                <th>Protocol</th>
                <th>Criticality</th>
                <th>Last Seen</th>
            </tr>
        </thead>
        <tbody id="assetsTableBody">
            <!-- Dynamic content will be inserted here -->
        </tbody>
    </table>
</div>

<!-- Quick Actions FAB -->
<div class="quick-actions">
    <div class="fab-menu" id="fabMenu">
        <a href="#" class="fab-menu-item">
            <i class="fas fa-plus"></i>
            Add Asset
        </a>
        <a href="#" class="fab-menu-item">
            <i class="fas fa-search"></i>
            Start Scan
        </a>
        <a href="#" class="fab-menu-item">
            <i class="fas fa-file-export"></i>
            Export Report
        </a>
    </div>
    <button class="fab-button" id="fabButton">
        <i class="fas fa-plus"></i>
    </button>
</div>

<!-- Profile Modal -->
<div class="modal-backdrop" id="profileModal">
    <div class="modal" style="max-width: 500px;">
        <div class="modal-header">
            <h2 class="modal-title">My Profile</h2>
            <button class="modal-close" onclick="closeProfileModal()">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="modal-body">
            <div class="text-center mb-6">
                <div class="w-20 h-20 rounded-full bg-gradient-to-br from-primary to-secondary text-white text-2xl font-semibold flex items-center justify-center mx-auto mb-4" id="profileAvatarLarge">A</div>
                <div class="space-y-4">
                    <div>
                        <label class="text-xs font-semibold text-tertiary uppercase tracking-wide">Username</label>
                        <div class="text-base font-medium" id="profileUsername">admin</div>
                    </div>
                    <div>
                        <label class="text-xs font-semibold text-tertiary uppercase tracking-wide">Email</label>
                        <div class="text-base" id="profileEmail">admin@localhost</div>
                    </div>
                    <div>
                        <label class="text-xs font-semibold text-tertiary uppercase tracking-wide">Role</label>
                        <div class="text-base" id="profileRole">Administrator</div>
                    </div>
                    <div>
                        <label class="text-xs font-semibold text-tertiary uppercase tracking-wide">Last Login</label>
                        <div class="text-base" id="profileLastLogin">-</div>
                    </div>
                    <div>
                        <label class="text-xs font-semibold text-tertiary uppercase tracking-wide">Member Since</label>
                        <div class="text-base" id="profileCreated">-</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-secondary" onclick="closeProfileModal()">Close</button>
            <button class="btn btn-primary" onclick="openAccountSettings()">
                <i class="fas fa-edit"></i> Edit Profile
            </button>
        </div>
    </div>
</div>

<!-- Change Password Modal -->
<div class="modal-backdrop" id="changePasswordModal">
    <div class="modal" style="max-width: 450px;">
        <div class="modal-header">
            <h2 class="modal-title">Change Password</h2>
            <button class="modal-close" onclick="closeChangePasswordModal()">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <form id="changePasswordForm">
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">Current Password</label>
                    <input type="password" class="form-input" name="currentPassword" required>
                </div>
                <div class="form-group">
                    <label class="form-label">New Password</label>
                    <input type="password" class="form-input" name="newPassword" required minlength="8">
                    <span class="form-hint">Minimum 8 characters</span>
                </div>
                <div class="form-group">
                    <label class="form-label">Confirm New Password</label>
                    <input type="password" class="form-input" name="confirmPassword" required>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="closeChangePasswordModal()">Cancel</button>
                <button type="submit" class="btn btn-primary">
                    <i class="fas fa-save"></i> Update Password
                </button>
            </div>
        </form>
    </div>
</div>